{% extends "base.html" %}
{% block title %}Financial Reports{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1><i class="bi bi-currency-dollar"></i> Financial Reports</h1>
    <a href="{{ url_for('financial.new_record') }}" class="btn btn-primary"><i class="bi bi-plus"></i> New Record</a>
</div>
<div class="row mb-4">
    <div class="col-md-3"><div class="card bg-success text-white"><div class="card-body"><h5>Revenue</h5><h2>${{ "%.2f"|format(total_revenue) }}</h2></div></div></div>
    <div class="col-md-3"><div class="card bg-danger text-white"><div class="card-body"><h5>Expenses</h5><h2>${{ "%.2f"|format(total_expenses) }}</h2></div></div></div>
    <div class="col-md-3"><div class="card bg-warning text-dark"><div class="card-body"><h5>COGS</h5><h2>${{ "%.2f"|format(total_cogs) }}</h2></div></div></div>
    <div class="col-md-3"><div class="card bg-info text-white"><div class="card-body"><h5>Profit</h5><h2>${{ "%.2f"|format(profit) }}</h2></div></div></div>
</div>
{% if records %}
<div class="table-responsive">
    <table class="table table-striped">
        <thead><tr><th>Date</th><th>Type</th><th>Category</th><th>Amount</th><th>Description</th></tr></thead>
        <tbody>
            {% for record in records %}
            <tr>
                <td>{{ record.record_date.strftime('%Y-%m-%d') if record.record_date else 'N/A' }}</td>
                <td><span class="badge bg-secondary">{{ record.record_type }}</span></td>
                <td>{{ record.category or 'N/A' }}</td>
                <td>${{ "%.2f"|format(record.amount) }}</td>
                <td>{{ record.description or 'N/A' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="alert alert-info">No records yet.</div>
{% endif %}
{% endblock %}
